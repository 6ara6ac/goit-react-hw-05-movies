{"version":3,"file":"static/js/764.955fb5b1.chunk.js","mappings":"6LA8DA,UAxDe,WACX,OAAwCA,EAAAA,EAAAA,MAAxC,eAAOC,EAAP,KAAqBC,EAArB,KACA,GAA4BC,EAAAA,EAAAA,UAAS,QAArC,eAAOC,EAAP,KAAeC,EAAf,KACA,GAA4BF,EAAAA,EAAAA,UAAS,IAArC,eAAOG,EAAP,KAAeC,EAAf,KAEMC,GAAWC,EAAAA,EAAAA,MAiCjB,OAnBAC,EAAAA,EAAAA,YAAU,WAAK,IAAD,EACJC,EAAS,UAAGV,EAAaW,IAAK,gBAArB,QAAkC,GAE9CD,IACCE,EAAAA,EAAAA,IAAaF,GACZG,MAAK,YAAuB,IAAfC,EAAc,EAApBC,KAAMD,QACV,GAAuB,IAAnBA,EAAQE,OAEZ,MADAZ,EAAU,UACJ,IAAIa,MAAO,yCAEjBX,EAAUQ,GACVV,EAAU,WAEb,IACAc,OAAM,SAAAC,GAAG,OAAIC,QAAQC,IAAIF,EAAhB,GAEjB,GAAC,CAACnB,KAGI,4BACH,kBAAMsB,SA9BW,SAACC,GAClBA,EAAEC,iBACF,IAAMC,EAAaF,EAAEG,OAAO,GAAGC,MAC/B,GAAmB,KAAfF,EACI,OAAOxB,EAAgB,CAAC,GAE5BA,EAAgB,CAAC2B,MAAOH,IACxBrB,EAAU,UACb,EAsBD,WACA,sBACA,2CAEJ,0BACY,YAAXD,IAAwB,SAAC,IAAD,IACb,WAAXA,IAAuB,mEACZ,aAAXA,GAAyBE,EAAOwB,KAAI,YAAkB,IAAhBC,EAAe,EAAfA,MAAOC,EAAQ,EAARA,GAAS,OAAO,yBAC1D,SAAC,KAAD,CAAMC,GAAE,kBAAaD,GAAME,MAAO,CAACC,KAAM3B,GAAzC,SACCuB,KAFkEC,EAI7D,SAIb,C,+LC1DKI,EAAQ,mCAEDC,EAAgB,mCAAG,sGACNC,EAAAA,EAAAA,IAAA,kEAAqEF,IAD/D,uBACrBpB,EADqB,EACrBA,KADqB,kBAErBA,GAFqB,2CAAH,qDAKhBuB,EAAY,mCAAG,WAAOP,GAAP,iFACbM,EAAAA,EAAAA,IAAA,6CAAgDN,EAAhD,oBAA8DI,IADjD,mFAAH,sDAIZvB,EAAY,mCAAG,WAAOgB,GAAP,iFACbS,EAAAA,EAAAA,IAAA,4DAA+DF,EAA/D,iCAA+FP,EAA/F,oCADa,mFAAH,sDAKZW,EAAU,mCAAG,WAAOR,GAAP,iFACXM,EAAAA,EAAAA,IAAA,6CAAgDN,EAAhD,4BAAsEI,EAAtE,wBADW,mFAAH,sDAKVK,EAAU,mCAAG,WAAOT,GAAP,iFACXM,EAAAA,EAAAA,IAAA,6CAAgDN,EAAhD,4BAAsEI,EAAtE,wBADW,mFAAH,qD","sources":["pages/Movies.js","services/API.js"],"sourcesContent":["import { Spinner } from \"components/Other/Spinner\";\nimport { useEffect, useState } from \"react\";\nimport { useSearchParams, Link, useLocation } from \"react-router-dom\";\nimport { searchMovies } from \"services/API\";\n\n\nconst Movies = () => {\n    const [searchParams, setSearchParams] = useSearchParams();\n    const [status, setStatus] = useState('idle')\n    const [movies, setMovies] = useState([])\n\n    const location = useLocation()\n\n    \n\n    const handleSubmit = (e) => {\n        e.preventDefault();\n        const queryValue = e.target[0].value;\n        if (queryValue === ''){\n                return setSearchParams({})\n            }\n            setSearchParams({query: queryValue})\n            setStatus('pending') \n        }\n\n    useEffect(()=>{\n        const movieName = searchParams.get((\"query\")) ?? \"\";\n\n        if(movieName){\n            searchMovies(movieName)\n            .then(({data:{results}}) => {\n                if (results.length === 0){\n                setStatus('reject')\n                throw new Error (\"We don't have any cast for this movie\");\n                }\n                setMovies(results)\n                setStatus('resolved')\n                \n            })\n            .catch(err => console.log(err))\n        }\n    },[searchParams])\n\n\n    return <div>\n        <form onSubmit={handleSubmit}>\n        <input></input>\n        <button>Search</button>\n        </form>\n    <ul>\n    {status === 'pending' && <Spinner/>}\n    {status === 'reject' && <p>We don't have any movies for this query</p>}\n    {status === 'resolved' && movies.map(({title, id}) => {return <li key={id}>\n        <Link to={`/movies/${id}`} state={{from: location}}>\n        {title}\n        </Link>\n        </li>})}\n    </ul>\n    \n    </div>\n}\n\nexport default Movies","import axios from \"axios\"\n\nconst API_KEY='1aec7afb2309fd39902ffda599461df1'\n\nexport const getPopularMovies = async () => {\n   const { data } = await axios.get(`https://api.themoviedb.org/3/trending/movie/day?api_key=${API_KEY}`)\n    return data;\n}\n\nexport const getMovieInfo = async (id) => {\n  return await axios.get(`https://api.themoviedb.org/3/movie/${id}?api_key=${API_KEY}`)\n}\n\nexport const searchMovies = async (query) =>{\n  return await axios.get(`https://api.themoviedb.org/3/search/movie?api_key=${API_KEY}&language=en-US&query=${query}&page=1&include_adult=false\n  `)\n}\n\nexport const getCredits = async (id) =>{\n  return await axios.get(`https://api.themoviedb.org/3/movie/${id}/credits?api_key=${API_KEY}&language=en-US\n  `)\n}\n\nexport const getReviews = async (id) =>{\n  return await axios.get(`https://api.themoviedb.org/3/movie/${id}/reviews?api_key=${API_KEY}&language=en-US\n  `)\n}"],"names":["useSearchParams","searchParams","setSearchParams","useState","status","setStatus","movies","setMovies","location","useLocation","useEffect","movieName","get","searchMovies","then","results","data","length","Error","catch","err","console","log","onSubmit","e","preventDefault","queryValue","target","value","query","map","title","id","to","state","from","API_KEY","getPopularMovies","axios","getMovieInfo","getCredits","getReviews"],"sourceRoot":""}